# サンプルデータ - プロジェクト収支システム

このディレクトリには、本番環境での動作確認用のサンプルデータが含まれています。

## ファイル一覧

### データベース用サンプルデータ
- **create_sample_data.py**: 本番環境用サンプルデータ作成スクリプト

### インポート用サンプルファイル
- **demo_import.csv**: CSVインポート機能テスト用ファイル
- **demo_import.xlsx**: Excelインポート機能テスト用ファイル

## 使用方法

### 1. サンプルデータの作成

本番環境でサンプルデータを作成する場合：

```bash
# サンプルデータ作成
python create_sample_data.py create

# サンプルデータ削除（必要に応じて）
python create_sample_data.py clear
```

### 2. インポート機能のテスト

1. システムにログイン
2. 「データインポート」メニューを選択
3. `demo_import.csv` または `demo_import.xlsx` をアップロード
4. カラムマッピングを確認
5. インポートを実行

### 3. 作成されるサンプルデータ

#### 支社データ
- 東京本社 (TKY)
- 大阪支社 (OSK)
- 名古屋支社 (NGY)
- 福岡支社 (FKO)

#### 年度データ
- 2023年度 (2023/4/1 - 2024/3/31)
- 2024年度 (2024/4/1 - 2025/3/31) ※アクティブ
- 2025年度 (2025/4/1 - 2026/3/31)

#### プロジェクトデータ
- 8つのデモプロジェクト（DEMO001-DEMO008）
- 各種ステータス（企画中、進行中、完了）
- 各種受注角度（〇、△、×）
- 複数年度にわたるプロジェクト

## データの特徴

### 売上統計（サンプルデータ）
- 総売上: ¥65,000,000
- 総経費: ¥44,600,000
- 総粗利: ¥20,400,000
- プロジェクト数: 8件

### 年度別分布
- 2023年度: 1プロジェクト
- 2024年度: 6プロジェクト
- 2025年度: 1プロジェクト

### 支社別分布
- 東京本社: 3プロジェクト
- 大阪支社: 2プロジェクト
- 名古屋支社: 2プロジェクト
- 福岡支社: 1プロジェクト

## 注意事項

1. **本番環境での使用**: このサンプルデータは本番環境での動作確認用です
2. **データの重複**: 既存データがある場合、重複チェックが行われます
3. **削除機能**: DEMOプレフィックスのプロジェクトのみ削除可能です
4. **バックアップ**: 本番データがある場合は事前にバックアップを取ってください

## トラブルシューティング

### よくある問題

#### 1. インポートエラー
- ファイル形式を確認してください（CSV/Excel）
- 文字エンコーディングがUTF-8であることを確認してください
- 必須カラムが含まれていることを確認してください

#### 2. データベースエラー
- データベース接続を確認してください
- 外部キー制約エラーの場合、支社データが存在することを確認してください

#### 3. 権限エラー
- アプリケーションにデータベース書き込み権限があることを確認してください

## サポート

問題が発生した場合は、以下の情報を収集してください：

1. エラーメッセージ
2. 使用したファイル
3. 実行環境（OS、Pythonバージョン）
4. データベースの状態

## 更新履歴

- 2024-12-17: 初版作成
- サンプルデータ8件、インポート用ファイル作成